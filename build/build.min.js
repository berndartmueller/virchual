import build from './build';
import { terser } from 'rollup-plugin-terser';
import bundleSize from 'rollup-plugin-bundle-size';

export default Object.assign(build, {
  plugins: build.plugins.concat([
    terser({
      compress: {
        drop_console: true,
        keep_fargs: false,
        passes: 2,
      },
      keep_fnames: false,
      ecma: 6,
      mangle: {
        properties: {
          keep_quoted: true,
          builtins: false,
          reserved: ['next', 'prev', 'register', 'Virchual'],
        },
        toplevel: false,
      },
    }),
    bundleSize(),
  ]),
});
